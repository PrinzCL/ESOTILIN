import java.sql.*;
import javax.swing.table.DefaultTableModel;

    
    
    public final void refrescarTabla(){
        try(Connection con = DriverManager.getConnection(
                "jdbc:oracle:thin:@localhost:1521/xe", "ejemplo", "123456")){
            Object [] titulos = new Object[]{
                "Patente", "Marca", "Modelo", "Precio"
            };
            DefaultTableModel dtm = new DefaultTableModel();
            dtm.setColumnIdentifiers(titulos);
            String sql = "select * from vehiculo";
            try(PreparedStatement ps = con.prepareStatement(sql)){
                try(ResultSet rs = ps.executeQuery()){
                    while(rs.next()){
                        dtm.addRow(new Object[]{
                            rs.getString("Patente"),
                            rs.getString("Marca"),
                            rs.getString("Modelo"),
                            rs.getString("Precio"),
                        });
                    }
                }
            }
            jtbDatos.setModel(dtm);
        }catch(Exception e){
            System.out.println("Error al conectar: " + e);
        }
    }
    
    ---------------------- VISUALIZAR DATOS
    
    
    
    
    
    
    
    
       private void jbtAgregarActionPerformed(java.awt.event.ActionEvent evt) {                                           
        try(Connection con = DriverManager.getConnection(
                "jdbc:oracle:thin:@localhost:1521/xe", "ejemplo", "123456")){
            String sql = "insert into vehiculo values(?,?,?,?)";
            try(PreparedStatement ps = con.prepareStatement(sql)){
                ps.setString(1, jtfPatente.getText());
                ps.setString(2, jtfMarca.getText());
                ps.setString(3, jtfModelo.getText());
                ps.setString(4, jtfPrecio.getText());
                ps.executeUpdate();
                refrescarTabla();
            }
        }catch(Exception e){
            System.out.println("Error al conectar: " + e);
        }
    
    }       
    
    ------------------ AGREGAR DATOS BUTTON
    
